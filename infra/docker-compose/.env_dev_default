DOCKER_NETWORK=registry-dev-network

# HOST_NAME
HOST_NAME_REGISTRY=${HOST_NAME_BASE}
HOST_NAME_DASHBOARD=dashboard.${HOST_NAME_REGISTRY}
HOST_NAME_CONNECT=connect.${HOST_NAME_REGISTRY}
HOST_NAME_CONNECT_MINIO=minio.${HOST_NAME_CONNECT}
HOST_NAME_CONNECT_AUTH=auth.${HOST_NAME_CONNECT}
HOST_NAME_CONNECT_SMTP_FAKE=smtp.${HOST_NAME_CONNECT}

# PUBLIC_URL
PUBLIC_URL_REGISTRY=https://${HOST_NAME_REGISTRY}
PUBLIC_URL_REGISTRY_API=https://${HOST_NAME_REGISTRY}/api
PUBLIC_URL_FS=https://${HOST_NAME_CONNECT}/fs
PUBLIC_URL_MINIO=https://${HOST_NAME_CONNECT_MINIO}
PUBLIC_URL_ADMIN=https://${HOST_NAME_CONNECT}
PUBLIC_URL_IM=https://${HOST_NAME_CONNECT}/im
PUBLIC_URL_CCCEV=https://${HOST_NAME_CONNECT}/cccev
PUBLIC_URL_KC=https://${HOST_NAME_CONNECT_AUTH}

# Docker
DOCKER_COMPOSE_PROXY_FILE=traefik
DOCKER_COMPOSE_REGISTRY_DB_FILE=redis meilisearch postgres
DOCKER_COMPOSE_REGISTRY_FILE=registry-gateway registry-web
DOCKER_COMPOSE_CONNECT_FILE=postgres minio fake-smtp keycloak connect-admin im fs
DOCKER_COMPOSE_REGISTRY_INIT_FILE=registry-init

DOCKER_COMPOSE_FILE=postgres meilisearch minio redis keycloak connect-admin im fs cccev

DOCKER_COMPOSE_INIT_FILE=im-init im-config #registry-init

#DOCKER_REPOSITORY=ghcr.io/komune-io/
DOCKER_REGISTRY_REPOSITORY=ghcr.io/komune-io/

DOCKER_REPOSITORY=docker.io/komune/


#VERSION
REGISTRY_VERSION=1.3.0-SNAPSHOT
CONNECT_VERSION=0.21.0-SNAPSHOT
CONNECT_CCCEV_VERSION=0.21.0-SNAPSHOT
CONNECT_FS_VERSION=0.21.0-SNAPSHOT
KB_VERSION=next
VERSION_CONNECT_ADMIN=0.2.0-SNAPSHOT
VERSION_IM=0.21.0-SNAPSHOT

# Registry
REGISTRY_HOST_NAME=registry-gateway
REGISTRY_WEB_PORT=5173
REGISTRY_PORT=8070
REGISTRY_URL=http://${REGISTRY_HOST_NAME}:${REGISTRY_WEB_PORT}
REGISTRY_API_URL=http://${REGISTRY_HOST_NAME}:${REGISTRY_PORT}

# Postgres
POSTGRES_HOSTNAME=tr-registry-postgres
POSTGRES_USER=postgres
POSTGRES_PASS=${SECRET_POSTGRES}
POSTGRES_REGISTRY_DB=tr-registry-postgres
POSTGRES_KEYCLOAK_DB=tr-im-keycloak

# KB
KB_HOST_NAME=kb-api

# CCCEV
CCCEV_HOST_NAME=cccev-gateway
CCCEV_PORT=8083
CCCEV_URL=http://${CCCEV_HOST_NAME}:${CCCEV_PORT}

# FS
FS_HOST_NAME=fs-gateway
FS_PORT=8090
FS_URL=http://${FS_HOST_NAME}:${FS_PORT}

# MINIO
MINIO_ROOT_USERNAME=minio
MINIO_ROOT_PASSWORD=${SECRET_MINIO_ROOT}

# REDIS
REDIS_HOST_NAME=redis
REDIS_PORT=6379

# CONNECT
## Admin

## IM
IM_HOST_NAME=im-gateway
IM_PORT=8009
IM_URL=http://${IM_HOST_NAME}:${IM_PORT}

## KEYCLOAK
KC_HOST_NAME=${HOST_NAME_CONNECT_AUTH}
KC_PORT=8080
KC_URL=https://${HOST_NAME_CONNECT_AUTH}


KC_ROOT_USER=root
KC_ROOT_PASS=${SECRET_KC_ROOT_PASS}
KC_REALM_ROOT_CLIENT_SECRET=${SECRET_KC_REALM_ROOT_CLIENT}
KC_REALM=registry-local
KC_REALM_DISPLAY_NAME=Trace Registry
KC_REALM_THEME=registry-keycloakify
KC_ADMIN_USER=admin
KC_ADMIN_PASS=${SECRET_KC_ADMIN_PASS}
KC_IM_CLIENT_ID=im-root-client
KC_IM_CLIENT_SECRET=${SECRET_KC_ROOT_IM_CLIENT}
KC_REGISTRY_SCRIPT_APP_CLIENT_ID=registry-script-app
KC_REGISTRY_SCRIPT_APP_CLIENT_SECRET=${SECRET_KC_REGISTRY_SCRIPT_APP_CLIENT}
KC_APP_CLIENT_ID=registry-platform-app
KC_APP_CLIENT_SECRET=${SECRET_KC_APP_CLIENT}
KC_WEB_CLIENT_ID=registry-platform-web
KC_CONNECT_ADMIN_WEB_CLIENT_ID=connect-admin-platform-web

KC_ROOT_REALM=master

# SMTP
SMTP_HOST=connect-fake-smtp
SMTP_PORT=1025

#REGISTRY
REGISTRY_BREVO_TOKEN=${SECRET_REGISTRY_BREVO_TOKEN}
PLATFORM_BREVO_DEBUG_ENABLE=true
REGISTRY_BREVO_DEBUG_EMAIL=
REGISTRY_BREVO_CONTACT_LIST=4

# Traefik
TRAEFIK_DASHBOARD_USER=admin
# echo $(htpasswd -nB admin) | sed -e s/\\$/\\$\\$/g
TRAEFIK_DASHBOARD_PASSWORD=${SECRET_TRAEFIK_DASHBOARD_PASSWORD}
